# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/thermal/sophgo,cv180x-thermal.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Sophgo CV180x on-SoC Thermal Sensor

maintainers:
  - Haylen Chu <heylenay@outlook.com>

description: Binding for Sophgo CV180x on-SoC thermal sensor

properties:
  compatible:
    enum:
      - sophgo,cv1800-thermal
      - sophgo,cv180x-thermal

  reg:
    maxItems: 1

  clocks:
    description: The thermal sensor clock

  clock-names:
    const: clk_tempsen

  accumulation-period:
    $ref: /schemas/types.yaml#/definitions/uint32
    description: Accumulation period for a sample
    oneOf:
      - const: 0
        description: 512 ticks
      - const: 1
        description: 1024 ticks
      - const: 2
        description: 2048 ticks
      - const: 3
        description: 4096 ticks
    default: 2

  chop-period:
    $ref: /schemas/types.yaml#/definitions/uint32
    description: ADC chop period
    oneOf:
      - const: 0
        description: 128 ticks
      - const: 1
        description: 256 ticks
      - const: 2
        description: 512 ticks
      - const: 3
        description: 1024 ticks
    default: 3

  sample-cycle-us:
    description: Period between samples
    default: 1000000

  '#thermal-sensor-cells':
    const: 0

required:
  - compatible
  - reg
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
        #include <dt-bindings/clock/sophgo,cv1800.h>
        thermal-sensor@30e0000 {
            compatible = "sophgo,cv180x-thermal";
            reg = <0x30e0000 0x100>;
            clocks = <&clk CLK_TEMPSEN>;
            clock-names = "clk_tempsen";
            #thermal-sensor-cells = <0>;
        };
...
